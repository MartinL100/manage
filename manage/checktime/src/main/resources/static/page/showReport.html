<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>所有信息</title>
    <link rel="stylesheet" href="../layuiadmin/layui/css/layui.css" media="all">
</head>
<body>

<table id="demo" lay-filter="test"></table>
<div style="width: 10%" align="center">
<a href="/downLoad" download="record">
    <button class="layui-btn layui-btn-fluid" id="exportDatas" STYLE="margin-left:10%">导出数据</button>
</a>

</div>
<script src="../layuiadmin/layui/layui.js"></script>
<script src="../lib/jquery.js"></script>
<script>
    layui.use('table', function(){
        var table = layui.table;

        //第一个实例
        table.render({
            elem: '#demo'
            ,height: 312
            ,url: '/findAll' //数据接口
            ,page: true //开启分页
            ,cols: [[ //表头
                {field: 'reportId', title: '申请编号', sort: true, fixed: 'left'}
                ,{field:'userEntity', title:'申请人',templet: '<div>{{d.userEntity.userName}}</div>' }
                ,{field: 'reportTime', title: '消费时间', sort: true}
                ,{field: 'recordTime', title: '上报时间', sort: true}
                ,{field: 'reportType', title: '消费类型', sort: true}
                ,{field: 'reportWhy', title: '消费原因'}
                ,{field: 'reportMoney', title: '消费金额', sort: true}
                ,{field: 'reportInfo', title: '备注',  sort: true}
                ,{field: 'startLocation', title: '起点'}
                ,{field: 'endLocation', title: '终点'}

            ]]
        });

    });

    $("#exportData").click(function () {
      window.open("/downLoad")
    })
</script>
</body>
</html>